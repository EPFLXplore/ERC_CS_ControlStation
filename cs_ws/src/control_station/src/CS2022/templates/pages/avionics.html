{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>CS2022</title>

	<!-- STYLE -->
	<link href="{% static 'common/border.css' %}" rel="stylesheet">
	<link href="{% static 'avionics/avionics.css' %}" rel="stylesheet">
	<link href="{% static 'common/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
	
	<!-- ICON -->
	<link rel="icon" type="image/x-icon" href="{% static 'common/Xplore-icon.ico' %}">
</head>

<body>

	{{ tab_name|json_script:"tab-name" }}
	<div id="container">
		<div id="sidebar" class="box">
		<div class="logo">
			<form class="logo-form" action="http://127.0.0.1:8000/CS2022/homepage">
				<input id="imagelogo" type="image" src="{% static 'common/Xplore-logo-white.png' %}" alt="My image">
			</form>
		</div>
		
		<div class="page-button-container">
			<form action="http://127.0.0.1:8000/CS2022/navigation">
				<button id="navigation" class="page-button">
					<span>NAVIGATION</span>
				</button>
			</form>
					
			<form action="http://127.0.0.1:8000/CS2022/handlingdevice">
				<button id="handlingdevice" class="page-button">
					<span>HANDLING DEVICE</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/science">
				<button id="science" class="page-button">
					<span>SCIENCE</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/manualcontrol">
				<button id="manualcontrol" class="page-button">
					<span>MANUAL CONTROL</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/avionics">
				<button id="avionics" class="current-page-button" disabled="true">
					<span>AVIONICS</span>
				</button>
			</form>
		</div>
		
		
		</div>
		
		<div id="right-side" class="box">
			<div class="top-bar">
				<label id="idle-state" class="neon-label">IDLE</label>
				<label id="navigation-state" class="neon-label">NAVIGATION</label>
				<label id="hd-state" class="neon-label">HANDLING DEVICE</label>
				<label id="science-state" class="neon-label">SCIENCE</label>
				<label id="manual-state" class="neon-label">MANUAL CONTROL</label>
				<label id="waiting-state" class="neon-label">WAITING</label>		
			</div>
			
			<div id="page" class="page">
				<div class="top">
					<div class="top-left">
						<div id="column-1" class="column">
							<div id="battery-box" class="data-box">
								<div class="widget-title-container">
									<div class="widget-title-c">
										<p class="box-title">BATTERY LEVEL</p>
									</div>
									<div class="widget-title-data-c">
										<p class="float">25</p>
										<p class="unit">%</p>
									</div>
								</div>
								<div class="progress">
									<div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
							</div>

							<div id="gyroscope-box" class="data-box">
								<div class="values-title-container">
									<p class="box-title">GYROSCOPE</p>
								</div>
								<div class="values-container">
									<data-line>
										<data-title>G1 : </data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>G2 : </data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>G3 : </data-title>
										<data>00.00</data>
									</data-line>
								</div>
							</div>
						</div>
						
						<div id="column-2" class="column">
							<div id="accelerometer-box" class="data-box">
								<div class="values-title-container">
									<p class="box-title">ACCELEROMETER</p>
								</div>
								<div class="values-container">
									<data-line>
										<data-title>A1 : </data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>A2 : </data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>A3 : </data-title>
										<data>00.00</data>
									</data-line>
								</div>
							</div>

						</div>
						
						<div id="column-3" class="column">
							<div id="current-box" class="data-box">
								<div class="values-title-container">
									<p class="box-title">CURRENTS</p>
								</div>
								<div class="values-container">
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
								</div>
							</div>

							<div id="voltage-box" class="data-box">
								<div class="values-title-container">
									<p class="box-title">VOLTAGES</p>
								</div>
								<div class="values-container">
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
									<data-line>
										<data-title>name</data-title>
										<data>00.00</data>
									</data-line>
								</div>
							</div>
						</div>
					</div>

					<div class="v-separator"></div>

					<div class="top-right">
						<div class="log-box">
							<div class="log-title-container">
								<p class="log-title">LOGS</p>
							</div>
		
							<div class="log-container">
		
							</div>
						</div>

						<div class="h-separator"></div>
						<div class="circle-led-container">
							<svg xmlns="http://www.w3.org/2000/svg" fill="green" class="circle-led" viewBox="0 0 16 16">
								<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
								<path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
							</svg>
							
							<svg xmlns="http://www.w3.org/2000/svg" fill="yellow" class="circle-led" viewBox="0 0 16 16">
								<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
								<path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
							</svg>
							
							<svg xmlns="http://www.w3.org/2000/svg" fill="red" class="circle-led" viewBox="0 0 16 16">
								<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
								<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
							</svg>
				  	</div>
				</div>
			</div>

			<div class="h-separator"></div>

			<div class="bottom">
				<div class="controller-container">
					<img id="imagecontroller" src="{% static 'avionics/Controller-image.png' %}" alt="Controller">
				</div>
			</div>
  		</div>
  	</div>
  	
  </div>
  <script>

	const tabName = JSON.parse(document.getElementById('tab-name').textContent);
	const chatSocket = new WebSocket(
		'ws://'
		+ window.location.host
		+ '/ws/CS2022/'
		+ tabName
		+ '/'
	);

	chatSocket.onmessage = function(e) {
		const data = JSON.parse(e.data);
		
		console.log("debug")


	};

	chatSocket.onclose = function(e) {
		console.error('Chat socket closed unexpectedly');
	};

	// document.querySelector('#chat-message-input').focus();
	// document.querySelector('#chat-message-input').onkeyup = function(e) {
	//     if (e.keyCode === 13) {  // enter, return
	//         document.querySelector('#chat-message-submit').click();
	//     }
	// };

	// document.querySelector('#chat-message-submit').onclick = function(e) {
	//     const messageInputDom = document.querySelector('#chat-message-input');
	//     const message = messageInputDom.value;
	//     chatSocket.send(JSON.stringify({
	//         'message': message
	//     }));
	//     messageInputDom.value = '';
	// };


</script>
</body>

</html>
