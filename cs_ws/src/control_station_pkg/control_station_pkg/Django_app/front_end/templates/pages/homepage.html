{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Xplore_CS_2022</title>
  
	<!-- STYLE -->
	<link href="{% static 'common/border.css' %}" rel="stylesheet">
	<link href="{% static 'homepage/homepage.css' %}" rel="stylesheet">
	<link href="{% static 'common/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  
	

	<!-- ICON -->
	<link rel="icon" type="image/x-icon" href="{% static 'common/Xplore-icon.ico' %}">
</head>

<body>
	{{ tab_name|json_script:"tab-name" }}
	{{ current_state|json_script:"state"  }}


	<div id="container">
		<div id="sidebar" class="box">
		<div class="logo">
			<form class="logo-form" action="http://127.0.0.1:8000/CS2022/homepage">
				<input id="imagelogo" type="image" src="{% static 'common/Xplore-logo-white.png' %}" alt="My image">
			</form>
		</div>
		
		<div class="page-button-container">
			<form action="http://127.0.0.1:8000/CS2022/navigation">
				<button id="navigation" class="page-button">
					<span>NAVIGATION</span>
				</button>
			</form>
					
			<form action="http://127.0.0.1:8000/CS2022/handlingdevice">
				<button id="handlingdevice" class="page-button">
					<span>HANDLING DEVICE</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/science">
				<button id="science" class="page-button">
					<span>SCIENCE</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/manualcontrol">
				<button id="manualcontrol" class="page-button">
					<span>MANUAL CONTROL</span>
				</button>
			</form>
			
			<form action="http://127.0.0.1:8000/CS2022/logs">
				<button id="logs" class="page-button">
					<span>LOGS</span>
				</button>
			</form>
		</div>
		
		
		</div>
		
		
		
</div>
<script>

	const tabName = JSON.parse(document.getElementById('tab-name').textContent);
	const chatSocket = new WebSocket(
		'ws://'
		+ window.location.host
		+ '/ws/CS2022/'
		+ tabName
		+ '/'
	);

	chatSocket.onmessage = function(e) {
		const data = JSON.parse(e.data);
		
		console.log("debug")


	};

	chatSocket.onclose = function(e) {
		console.error('Chat socket closed unexpectedly');
	};



</script>
<script src="{% static 'common/common.js' %}"></script>
</body>

</html>
